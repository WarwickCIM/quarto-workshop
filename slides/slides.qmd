---
title: "Quarto:<br>A library to run them all?"
# subtitle: "A collaborative exercise to use, learn and assess quarto for authoring reproducible documents in different scenarios"
subtitle: "RSE Conference 2022 | Newcastle Upon Tyne"
author: 
  - name: "Carlos Cámara-Menoyo | James Tripp"
institute: Centre for Interdisciplinary Methodologies (University of Warwick) | IT Services (University of Warwick)
title-slide-attributes:
    data-background-image: "https://vignette.wikia.nocookie.net/lego-lord-of-the-rings/images/4/4c/The_One_Ring.jpg/revision/latest?cb=20130113172456"
    # data-background-size: contain
    data-background-opacity: "0.40"
    data-background-color: "#552D62"
format: 
  revealjs:
    #theme: serif
    theme: [default, css/warwick.scss, css/warwick-fonts.scss]
    logo: images/logo_black.png
editor: visual
---

# Introduction  {background-color="#552D62"}

<!--#Instructions https://quarto.org/docs/presentations/revealjs/  -->

## About us  {.small}

::: columns
::: {.column width="50%"}
![](images/carlos.png){fig-alt="Carlos Cámara" fig-align="center"}

**Carlos Cámara**

*Senior Research Software Engineer*

[carlos.camara\@warwick.ac.uk](mailto:carlos.camara@warwick.ac.uk){.email}

-   R user

-   Interested in reproducibility, open science, geospatial data, visualisation
:::

::: {.column width="50%"}
![](images/cagatay.png){fig-alt="Cagatay Turkay" fig-align="center"}

**James Tripp**

*Research Software Engineer*

[james.tripp\@warwick.ac.uk](mailto:cagatay.turkay@warwick.ac.uk){.email}

-   Python, R and PHP user
-   Interested in research software engineering, data science and digital humanities
:::
:::

::: notes
He uses Python and I love using R and we both work together. It is partially because of that that we decided to explore using quarto in our Data Science and Data Visualisation classes. This workshop is, then, an excuse to force us using it and learn by doing.
:::

## Disclaimer

We are not Quarto experts! We are just users who want to share our progress and engage with other users in a co-creation process.

::: notes
He uses Python and I love using R and we both work together. It is partially because of that that we decided to explore using quarto in our Data Science and Data Visualisation classes. This workshop is, then, an excuse to force us using it and learn by doing.
:::

## Introduce yourselves! {background-color="black" background-image="https://images.unsplash.com/flagged/photo-1580139624070-910f651c1b78?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80" background-opacity="0.6"}

Keep it short, please![^1]

[^1]: We'll have plenty of time to getting to know each other

-   Name
-   Affiliation/Job title
-   Preferred programming Language
-   Previous experience with Quarto

::: aside
Feel free to add your details to `readme.md` via PR.
:::

# Goals

* Introduce Quarto
* Facilitate you working with Quatro
* Have a discussion evaluating Quatro

# Plan

1. Introduce Quarto and setup (25m)
2. Group formation and tasks (15m)
3. Working in groups - with break! (1hr 35m)
4. Discussion (35m)

# Quarto {background-color="#2780e3"}

## Preamble

* Literate programming is important
* Lots of different solutions, some are language specific

::: columns
::: {.column width="50%"}
### R: Rmarkdown

* Markdown with configurable code blocks
* Focus on R (but does support other languages [see here](https://bookdown.org/yihui/rmarkdown/language-engines.html))
* Can compile to other formats:
    - bookdown, blogdown, ...
:::

::: {.column width="50%"}
### Python: Jupyter notebook
- Single `JSON` file containing code, text and output
- Kernels for many programming languages
- Can compile to other formats:
  - Jupyter book, nbconvert, ...
:::
:::


## About quarto

-   "Open-source scientific and technical publishing system built on Pandoc" - [quarto.org](https://quarto.org/)
-   Developed by Posit (RStudio) as Rmarkdown's next generation. "Code output via integration with Jupyter, Knitr, and Observable" - [GitHub Repo](https://www.rstudio.com/blog/announcing-quarto-a-new-scientific-and-technical-publishing-system/)
-   Batteries included ("articles, reports, presentations, websites, blogs, and books in HTML, PDF, MS Word, ePub, and more") - [quarto.org](https://quarto.org/)
-   Code chunks in .qmd markdown files are evaluated by the language engine, and the document is built using Pandoc with reasonable default formatting

[^3]: Do not worry, RMarkdown will continue its development: <https://quarto.org/docs/faq/rmarkdown.html#is-r-markdown-going-away-will-my-r-markdown-documents-continue-to-work>

## Rmarkdown's next generation

-   One `qmd` file -\> parser -\> one or more outputs
-   2 files:
    -   `qmd` containing the "source" (configuration, text and code)
    -   `*` containing the output (`pdf`, `html`, `docx`...)
-   Syntax:
    -   Config: yaml, metadata
    -   Rich text: markdown on steroids (variable text -inline code-, callouts, mermaid diagrams...)
    -   Code: code blocks (they can have special comments for configs, )
-   One `qmd` file, one or more outputs


## Features

-   Works with `R`, `Python`, `Julia`, `Observable`
    -   Can combine different languages in a single document
-   Integrations - [getting started](https://quarto.org/docs/get-started/)
    -   RStudio
    -   Visual Studio Code/VS Codium
    -   Jupyter
-   Diverse outputs
    -   Formats: `pdf`, `html`, `epub`, `docx`...
    -   Media: articles, presentations (like this one!), blogs, websites, books...
-   Authoring tools: scientific markdown, including equations, citations, crossrefs, bibliographical references, figure panels, callouts, advanced layout, and more.
-   File format `qmd` is a text file that doesn't include output. Human readable and good for version control.

## About Quarto

A brief introduction...

Possible outline:

1.  What's quarto
2.  What can we do with it?
3.  How does it work?

## Further references

-   https://runapp2022.talks.jamesgoldie.dev/#/james-goldie

# The workshop {background-color="#552D62"}

## Setting the environment

1.  Install git
2.  Install quarto's binary file (<https://quarto.org/docs/get-started/>)
3.  Clone this repo `git clone git@github.com:WarwickCIM/quarto-workshop.git`

## Overview

1.  Pick a task you would like to develop during this workshop
    1.  The issue describes the steps and deliverables
2.  Create groups of people who want to work on the same task
3.  Work on these tasks and **document your progress**!
    1.  Generate a qmd file with the documentation
    2.  Submit Pull Request to repo
    3.  (optional) you may want to link to your repo

::: aside
A list of cases will be provided by organisers, but you are free to propose one and develop it, in case there is more people who want to join you.
:::

## 1. Pick your task and create groups!

1.  Choose one of the [provided tasks](https://github.com/WarwickCIM/quarto-workshop/issues?q=is%3Aissue+is%3Aopen+label%3Atasks) (or create a new one!) [![](images/task_list.png)](https://github.com/WarwickCIM/quarto-workshop/issues?q=is%3Aissue+is%3Aopen+label%3Atasks)
    1.   Each task has a description of what you need to do, outputs, template and reference.

::: aside
Should you want to create a new task...
:::

## 2. Create groups

1.  Assign a task to yourself to show interest
2.  Create a group when/if there are more than one person interested in the task
3.  Sit close one to another for discussion and group work
4. Discuss and learn from others! 
    * (and document any lesson learnt to share it with the whole group)

## 3. Work and document

::: columns
::: {.column width="65%"}
1.  Fork the repo
2.  Use the templates
    1. Create a folder with your task `cp tasks/template  task/<number>_<your_task>`
1.  Document!
    1.  Use the provided qmd template and edit it as you please

:::



::: {.column width="35%"}

![](images/template.png)
:::
:::


```{mermaid}
%%{init:{'logLevel':'debug', 'theme':'base', 'gitGraph':{'rotateCommitLabel': true}} }%%
gitGraph
       commit
       commit id: "RSEConf22!"
       branch task_12
       checkout task_12
       commit
       commit id: "Documenting"
       commit
       checkout main
       branch task_11
       checkout task_11
       commit
       commit
       checkout main
       branch task_13
       checkout task_13
       commit
       commit
       checkout main
       merge task_12
       merge task_11
       merge task_13
       commit
       commit
```






##  {background-color="black" background-image="https://cdn.smartlydressedgames.com/original/2X/7/73bdfa5eed7a5961444409cad426106a7658220b.jpg" background-opacity="0.85"}

# Reconvene! {background-color="#552D62"}

# Discussion

Some ideas (but feel free to add yours!):

-   How mature is quarto to you?

-   Do you see yourself using quarto? In which context(s)?

-   Do you see quarto replacing your current toolkit?

-   What's missing in Quarto? (i.e mybinder?)

-   Quarto, compared to 

    - Other formats: Format `*.qmd` (code) + output vs `*.ipynb` (json with output)

    - Other tools (i.e. jupyterbook, bookdown..., distill)
